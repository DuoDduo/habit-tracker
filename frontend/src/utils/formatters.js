/**
 * Formatting Utilities
 * Author: Blessing Oluwapelumi James
 */

/**
 * Format date to readable string
 * @param {string} dateString - ISO date string
 * @returns {string} Formatted date
 */
export const formatDate = (dateString) => {
  const date = new Date(dateString);
  return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'short',
    day: 'numeric',
  });
};

/**
 * Format date to relative time (e.g., "2 days ago")
 * @param {string} dateString - ISO date string
 * @returns {string} Relative time
 */
export const formatRelativeTime = (dateString) => {
  const date = new Date(dateString);
  const now = new Date();
  const diffInMs = now - date;
  const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24));

  if (diffInDays === 0) return 'Today';
  if (diffInDays === 1) return 'Yesterday';
  if (diffInDays < 7) return `${diffInDays} days ago`;
  if (diffInDays < 30) return `${Math.floor(diffInDays / 7)} weeks ago`;
  return formatDate(dateString);
};

/**
 * Get streak emoji based on count
 * @param {number} streak - Streak count
 * @returns {string} Emoji
 */
export const getStreakEmoji = (streak) => {
  if (streak === 0) return 'ðŸ˜´';
  if (streak < 3) return 'ðŸ”¥';
  if (streak < 7) return 'ðŸ”¥ðŸ”¥';
  if (streak < 14) return 'ðŸ”¥ðŸ”¥ðŸ”¥';
  if (streak < 30) return 'ðŸš€';
  return 'ðŸ†';
};

/**
 * Capitalize first letter
 * @param {string} str - String to capitalize
 * @returns {string} Capitalized string
 */
export const capitalize = (str) => {
  return str.charAt(0).toUpperCase() + str.slice(1);
};